{% extends "base.html" %}

{% block title %}{{ about.title }} - Legend Carpet Services{% endblock %}

{% block content %}
<style>
    /* 
      These styles are included for demonstration. For best practice, 
      move them to your main CSS file (e.g., static/css/style.css).
    */
    .hero-about {
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.85) 0%, rgba(15, 23, 42, 0.65) 100%), url("{{ url_for('static', filename='images/carpet-texture-bg.jpg') }}");
        background-size: cover;
        background-position: center;
        padding: 14rem 0 8rem;
        color: var(--primary-contrast);
    }
    .hero-about h1 {
        color: var(--primary-contrast);
    }
    .hero-about .lead {
        color: var(--primary-contrast);
    }
    .section-title {
        font-weight: 700;
        margin-bottom: 1.5rem; /* Increased margin for better spacing */
        color: #343a40;
        position: relative;
        padding-bottom: 0.5rem;
    }
    /* Adds a little underline to section titles */
    .section-title::after {
        content: '';
        position: absolute;
        display: block;
        width: 50px;
        height: 3px;
        background: #000; /* Use black for underline */
        bottom: 0;
        left: 0;
    }
    .section-title.text-center::after {
        left: 50%;
        transform: translateX(-50%);
    }

    /* Mission Section Styling */
    #mission {
        background-color: #f8f9fa; /* A slightly different light gray */
        padding: var(--space-10);
        border-radius: var(--radius-lg);
    }

    /* Why Choose Us Section Styling */
    .why-choose-us .card {
        border: 1px solid #e9ecef; /* Lighter border */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-radius: var(--radius-lg);
    }
    .why-choose-us .card:hover {
        transform: translateY(-10px);
        box-shadow: var(--shadow-3);
    }
    .why-choose-us .icon-circle {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 1.75rem;
        background-color: rgba(15, 23, 42, 0.1); /* Lighter primary bg */
        color: var(--primary);
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    .why-choose-us .card:hover .icon-circle {
        background-color: var(--primary);
        color: white;
    }

    /* Carousel styling */
    .carousel-item img {
        height: 450px; /* Fixed height for carousel images */
        object-fit: cover; /* Ensures images cover the area without distortion */
    }
</style>

<!-- About Us Hero Section -->
<section class="hero-about text-center">
    <div class="container">
        <h1 class="display-4 fw-bold">{{ about.title }}</h1>
        <p class="lead">Your Trusted Partner in Carpet Care and Restoration</p>
    </div>
</section>

<main>
    <div class="container">
        <!-- Introduction Section with Carousel -->
        <section id="introduction" class="section-padding">
            <div class="row align-items-center g-5">
                <div class="col-lg-12">
                    <h2 class="section-title">Melbourne's Leading Carpet Experts</h2>
                    {% for p in about.paragraphs %}
                        <p class="fs-5 mb-3">{{ p }}</p>
                    {% endfor %}
                </div>
            </div>
        </section>

        <!-- Mission Section -->
        <section id="mission" class="text-start">
            <div class="row align-items-center">
                <div class="col-md-2 text-center">
                    <i class="fas fa-bullseye fa-4x text-primary mb-3 mb-md-0"></i>
                </div>
                <div class="col-md-10">
                    <h2 class="section-title mb-3">{{ about.mission.title }}</h2>
                    <p class="lead mb-0">{{ about.mission.text }}</p>
                </div>
            </div>
        </section>

        <!-- Why Choose Us Section -->
        <section id="why-us" class="why-choose-us section-padding">
            <h2 class="section-title text-center mb-5">{{ about.why_choose_us.title }}</h2>
            <div class="row justify-content-center g-4">
                {% set icons = ['shipping-fast', 'users-cog', 'handshake', 'shield-alt', 'smile-beam'] %}
                {% for point in about.why_choose_us.points %}
                <div class="col-lg-4 col-md-6 d-flex align-items-stretch">
                    <div class="card text-center shadow-sm flex-fill p-4">
                        <div class="card-body d-flex flex-column">
                            <div class="icon-circle mb-3 mx-auto">
                                <i class="fas fa-{{ icons[loop.index0] | default('star') }}"></i>
                            </div>
                            <h5 class="card-title fw-bold">{{ point }}</h5>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </div>
</main>
{% endblock %}