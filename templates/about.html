{% extends "base.html" %}

{% block title %}{{ about.title }} - Legend Carpet Services{% endblock %}

{% block content %}
<style>
    /* 
      These styles are included for demonstration. For best practice, 
      move them to your main CSS file (e.g., static/css/style.css).
    */
    .hero-about {
        background: linear-gradient(rgba(33, 37, 41, 0.7), rgba(33, 37, 41, 0.7)), url("{{ url_for('static', filename='images/carpet-texture-bg.jpg') }}");
        background-size: cover;
        background-position: center;
        padding: 6rem 0;
        color: white;
    }
    .section-title {
        font-weight: 700;
        margin-bottom: 1.5rem; /* Increased margin for better spacing */
        color: #343a40;
        position: relative;
        padding-bottom: 0.5rem;
    }
    /* Adds a little underline to section titles */
    .section-title::after {
        content: '';
        position: absolute;
        display: block;
        width: 50px;
        height: 3px;
        background: var(--bs-primary); /* Use Bootstrap primary color */
        bottom: 0;
        left: 0;
    }
    .text-center .section-title::after {
        left: 50%;
        transform: translateX(-50%);
    }

    /* Mission Section Styling */
    #mission {
        background-color: #f8f9fa; /* A slightly different light gray */
        border-left: 5px solid var(--bs-primary);
    }

    /* Why Choose Us Section Styling */
    .why-choose-us .card {
        border: 1px solid #e9ecef; /* Lighter border */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .why-choose-us .card:hover {
        transform: translateY(-10px);
        box-shadow: 0 1rem 3rem rgba(0,0,0,.12)!important;
        border-color: var(--bs-primary);
    }
    .why-choose-us .icon-circle {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 1.75rem;
        background-color: rgba(var(--bs-primary-rgb), 0.1); /* Lighter primary bg */
        color: var(--bs-primary);
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    .why-choose-us .card:hover .icon-circle {
        background-color: var(--bs-primary);
        color: white;
    }

    /* Carousel styling */
    .carousel-item img {
        height: 450px; /* Fixed height for carousel images */
        object-fit: cover; /* Ensures images cover the area without distortion */
    }
</style>

<!-- About Us Hero Section -->
<section class="hero-about text-center">
    <div class="container">
        <h1 class="display-4 fw-bold">{{ about.title }}</h1>
        <p class="lead">Your Trusted Partner in Carpet Care and Restoration</p>
    </div>
</section>

<main class="py-5">
    <div class="container">
        <!-- Introduction Section with Carousel -->
        <section id="introduction" class="py-5">
            <div class="row align-items-center g-5">
                <div class="col-lg-6">
                    <h2 class="section-title">Melbourne's Leading Carpet Experts</h2>
                    {% for p in about.paragraphs %}
                        <p class="fs-5 mb-3">{{ p }}</p>
                    {% endfor %}
                </div>
                <div class="col-lg-6">
                    <div id="aboutCarousel" class="carousel slide shadow-lg rounded overflow-hidden" data-bs-ride="carousel">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#aboutCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#aboutCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#aboutCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                        </div>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="{{ url_for('static', filename='images/team-working.jpg') }}" class="d-block w-100" alt="Legend Carpet Services team at work">
                            </div>
                            <div class="carousel-item">
                                <!-- Suggestion: Add more relevant images -->
                                <img src="{{ url_for('static', filename='images/carpet-cleaning-action.jpg') }}" class="d-block w-100" alt="Professional carpet steam cleaning">
                            </div>
                            <div class="carousel-item">
                                <img src="{{ url_for('static', filename='images/flood-restoration-in-progress.jpg') }}" class="d-block w-100" alt="Flood damage restoration">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#aboutCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#aboutCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <hr class="my-5">

        <!-- Mission Section -->
        <section id="mission" class="text-start p-5 rounded my-5">
            <div class="row align-items-center">
                <div class="col-md-2 text-center">
                    <i class="fas fa-bullseye fa-4x text-primary mb-3 mb-md-0"></i>
                </div>
                <div class="col-md-10">
                    <h2 class="section-title mb-3">{{ about.mission.title }}</h2>
                    <p class="lead mb-0">{{ about.mission.text }}</p>
                </div>
            </div>
        </section>

        <hr class="my-5">

        <!-- Why Choose Us Section -->
        <section id="why-us" class="why-choose-us py-5">
            <h2 class="section-title text-center mb-5">{{ about.why_choose_us.title }}</h2>
            <div class="row justify-content-center g-4">
                {% set icons = ['shipping-fast', 'users-cog', 'handshake', 'shield-alt', 'smile-beam'] %}
                {% for point in about.why_choose_us.points %}
                <div class="col-lg-4 col-md-6 d-flex align-items-stretch">
                    <div class="card text-center shadow-sm flex-fill p-4">
                        <div class="card-body d-flex flex-column">
                            <div class="icon-circle mb-3 mx-auto">
                                <i class="fas fa-{{ icons[loop.index0] | default('star') }}"></i>
                            </div>
                            <h5 class="card-title fw-bold">{{ point }}</h5>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </div>
</main>
{% endblock %}